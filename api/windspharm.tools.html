<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>windspharm.tools &mdash; windspharm 1.2.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/pyramid.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.2.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="windspharm 1.2.1 documentation" href="../index.html" />
    <link rel="up" title="API reference" href="index.html" />
    <link rel="next" title="Downloads" href="../downloads.html" />
    <link rel="prev" title="windspharm.iris" href="windspharm.iris.html" />
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Neuton&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Nobile:regular,italic,bold,bolditalic&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="../_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head>
  <body>


<!-- add the logo to the top of the page -->
<div style="background-color: white; text-align: left; padding: 18px 10px 19px 15px">
<a href="../index.html"><img src="../_static/logo.png" border="0" alt="sampledoc"/></a>
</div>

<!-- add the github ribbon to the corner -->
<a href="https://github.com/ajdawson/windspharm"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png" alt="Fork me on GitHub"></a>


    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../downloads.html" title="Downloads"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="windspharm.iris.html" title="windspharm.iris"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">windspharm 1.2.1 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">API reference</a> &raquo;</li> 
      </ul>
    </div>



    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-windspharm.tools">
<span id="windspharm-tools"></span><h1><a class="reference internal" href="#module-windspharm.tools" title="windspharm.tools"><tt class="xref py py-obj docutils literal"><span class="pre">windspharm.tools</span></tt></a><a class="headerlink" href="#module-windspharm.tools" title="Permalink to this headline">¶</a></h1>
<p>Tools for managing data for use with <a class="reference internal" href="windspharm.standard.html#windspharm.standard.VectorWind" title="windspharm.standard.VectorWind"><tt class="xref py py-obj docutils literal"><span class="pre">VectorWind</span></tt></a>
(or indeed <tt class="xref py py-obj docutils literal"><span class="pre">spharm.Spharmt</span></tt>).</p>
<dl class="function">
<dt id="windspharm.tools.prep_data">
<tt class="descclassname">windspharm.tools.</tt><tt class="descname">prep_data</tt><big>(</big><em>data</em>, <em>dimorder</em><big>)</big><a class="reference internal" href="../_modules/windspharm/tools.html#prep_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#windspharm.tools.prep_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare data for input to <a class="reference internal" href="windspharm.standard.html#windspharm.standard.VectorWind" title="windspharm.standard.VectorWind"><tt class="xref py py-obj docutils literal"><span class="pre">VectorWind</span></tt></a> (or to
<tt class="xref py py-obj docutils literal"><span class="pre">spharm.Spharmt</span></tt> method calls).</p>
<p>Returns a dictionary of intermediate information that can be passed
to <a class="reference internal" href="#windspharm.tools.recover_data" title="windspharm.tools.recover_data"><tt class="xref py py-obj docutils literal"><span class="pre">recover_data</span></tt></a> or <a class="reference internal" href="#windspharm.tools.get_recovery" title="windspharm.tools.get_recovery"><tt class="xref py py-obj docutils literal"><span class="pre">get_recovery</span></tt></a> to recover the original shape
and order of the data.</p>
<p><strong>Arguments:</strong></p>
<dl class="docutils">
<dt><em>data</em></dt>
<dd>Data array. The array must be at least 2D.</dd>
<dt><em>dimorder</em></dt>
<dd>String specifying the order of dimensions in the data array. The
characters &#8216;x&#8217; and &#8216;y&#8217; represent longitude and latitude
respectively. Any other characters can be used to represent
other dimensions.</dd>
</dl>
<p><strong>Returns:</strong></p>
<dl class="docutils">
<dt><em>pdata</em></dt>
<dd><em>data</em> reshaped/reordered to (latitude, longitude, other).</dd>
<dt><em>info</em></dt>
<dd>A dictionary of information required to recover <em>data</em>.</dd>
</dl>
<p><strong>See also:</strong></p>
<p><a class="reference internal" href="#windspharm.tools.recover_data" title="windspharm.tools.recover_data"><tt class="xref py py-obj docutils literal"><span class="pre">recover_data</span></tt></a>, <a class="reference internal" href="#windspharm.tools.get_recovery" title="windspharm.tools.get_recovery"><tt class="xref py py-obj docutils literal"><span class="pre">get_recovery</span></tt></a>.</p>
<p><strong>Examples:</strong></p>
<p>Prepare an array with dimensions (12, 17, 73, 144) where the
dimensions are (time, level, latitude, longitude):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pdata</span><span class="p">,</span> <span class="n">info</span> <span class="o">=</span> <span class="n">prep_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s">&#39;tzyx&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Prepare an array with dimensions (144, 16, 73, 21) where the first
dimension is longitude and the third dimension is latitude. The
characters used to represent the other dimensions are arbitrary:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pdata</span><span class="p">,</span> <span class="n">info</span> <span class="o">=</span> <span class="n">prep_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s">&#39;xayb&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="windspharm.tools.recover_data">
<tt class="descclassname">windspharm.tools.</tt><tt class="descname">recover_data</tt><big>(</big><em>pdata</em>, <em>info</em><big>)</big><a class="reference internal" href="../_modules/windspharm/tools.html#recover_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#windspharm.tools.recover_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Recover the shape and dimension order of an array output from
<a class="reference internal" href="windspharm.standard.html#windspharm.standard.VectorWind" title="windspharm.standard.VectorWind"><tt class="xref py py-obj docutils literal"><span class="pre">VectorWind</span></tt></a> methods (or from <tt class="xref py py-obj docutils literal"><span class="pre">spharm.Spharmt</span></tt>
methods).</p>
<p>This function performs the opposite of <a class="reference internal" href="#windspharm.tools.prep_data" title="windspharm.tools.prep_data"><tt class="xref py py-obj docutils literal"><span class="pre">prep_data</span></tt></a>.</p>
<p>For recovering the shape of multiple variables, see <a class="reference internal" href="#windspharm.tools.get_recovery" title="windspharm.tools.get_recovery"><tt class="xref py py-obj docutils literal"><span class="pre">get_recovery</span></tt></a>.</p>
<p><strong>Arguments:</strong></p>
<dl class="docutils">
<dt><em>pdata</em></dt>
<dd>Data array with either 2 or 3 dimensions. The first two
dimensions are latitude and longitude respectively.</dd>
<dt><em>info</em></dt>
<dd>Information dictionary output from <a class="reference internal" href="#windspharm.tools.prep_data" title="windspharm.tools.prep_data"><tt class="xref py py-obj docutils literal"><span class="pre">prep_data</span></tt></a>.</dd>
</dl>
<p><strong>Returns:</strong></p>
<dl class="docutils">
<dt><em>data</em></dt>
<dd>The data reshaped/reordered.</dd>
</dl>
<p><strong>See also:</strong></p>
<p><a class="reference internal" href="#windspharm.tools.prep_data" title="windspharm.tools.prep_data"><tt class="xref py py-obj docutils literal"><span class="pre">prep_data</span></tt></a>, <a class="reference internal" href="#windspharm.tools.get_recovery" title="windspharm.tools.get_recovery"><tt class="xref py py-obj docutils literal"><span class="pre">get_recovery</span></tt></a>.</p>
<p><strong>Example:</strong></p>
<p>Recover the original input shape and dimension order of an array
processed with <a class="reference internal" href="#windspharm.tools.prep_data" title="windspharm.tools.prep_data"><tt class="xref py py-obj docutils literal"><span class="pre">prep_data</span></tt></a> or an output of
<a class="reference internal" href="windspharm.standard.html#windspharm.standard.VectorWind" title="windspharm.standard.VectorWind"><tt class="xref py py-obj docutils literal"><span class="pre">VectorWind</span></tt></a> or <tt class="xref py py-obj docutils literal"><span class="pre">sparm.Spharmt</span></tt> method calls on
such data:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">data</span> <span class="o">=</span> <span class="n">recover_data</span><span class="p">(</span><span class="n">pdata</span><span class="p">,</span> <span class="n">info</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="windspharm.tools.get_recovery">
<tt class="descclassname">windspharm.tools.</tt><tt class="descname">get_recovery</tt><big>(</big><em>info</em><big>)</big><a class="reference internal" href="../_modules/windspharm/tools.html#get_recovery"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#windspharm.tools.get_recovery" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a function that can be used to recover the shape and
dimension order of multiple arrays output from
<a class="reference internal" href="windspharm.standard.html#windspharm.standard.VectorWind" title="windspharm.standard.VectorWind"><tt class="xref py py-obj docutils literal"><span class="pre">VectorWind</span></tt></a> methods (or from <tt class="xref py py-obj docutils literal"><span class="pre">spharm.Spharmt</span></tt>
methods) according to a single dictionary of recovery information.</p>
<p><strong>Argument:</strong></p>
<dl class="docutils">
<dt><em>info</em></dt>
<dd>Information dictionary output from <a class="reference internal" href="#windspharm.tools.prep_data" title="windspharm.tools.prep_data"><tt class="xref py py-obj docutils literal"><span class="pre">prep_data</span></tt></a>.</dd>
</dl>
<p><strong>Returns:</strong></p>
<dl class="docutils">
<dt><em>recover</em></dt>
<dd>A function used to recover arrays.</dd>
</dl>
<p><strong>See also:</strong></p>
<p><a class="reference internal" href="#windspharm.tools.recover_data" title="windspharm.tools.recover_data"><tt class="xref py py-obj docutils literal"><span class="pre">recover_data</span></tt></a>, <a class="reference internal" href="#windspharm.tools.prep_data" title="windspharm.tools.prep_data"><tt class="xref py py-obj docutils literal"><span class="pre">prep_data</span></tt></a>.</p>
<p><strong>Example:</strong></p>
<p>Generate a function to recover the original input shape and
dimension order of arrays processed with <a class="reference internal" href="#windspharm.tools.prep_data" title="windspharm.tools.prep_data"><tt class="xref py py-obj docutils literal"><span class="pre">prep_data</span></tt></a> and outputs of
<a class="reference internal" href="windspharm.standard.html#windspharm.standard.VectorWind" title="windspharm.standard.VectorWind"><tt class="xref py py-obj docutils literal"><span class="pre">VectorWind</span></tt></a> method calls on this data:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">u</span><span class="p">,</span> <span class="n">info</span> <span class="o">=</span> <span class="n">prep_data</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="s">&#39;tzyx&#39;</span><span class="p">)</span>
<span class="n">v</span><span class="p">,</span> <span class="n">info</span> <span class="o">=</span> <span class="n">prep_data</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s">&#39;tzyx&#39;</span><span class="p">)</span>
<span class="n">w</span> <span class="o">=</span> <span class="n">VectorWind</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
<span class="n">sf</span><span class="p">,</span> <span class="n">vp</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">sfvp</span><span class="p">()</span>
<span class="n">recover</span> <span class="o">=</span> <span class="n">get_recovery</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>
<span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">sf</span><span class="p">,</span> <span class="n">vp</span> <span class="o">=</span> <span class="n">recover</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">sf</span><span class="p">,</span> <span class="n">vp</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="windspharm.tools.reverse_latdim">
<tt class="descclassname">windspharm.tools.</tt><tt class="descname">reverse_latdim</tt><big>(</big><em>u</em>, <em>v</em>, <em>axis=0</em><big>)</big><a class="reference internal" href="../_modules/windspharm/tools.html#reverse_latdim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#windspharm.tools.reverse_latdim" title="Permalink to this definition">¶</a></dt>
<dd><p>Reverse the order of the latitude dimension of zonal and meridional
wind components.</p>
<p><strong>Arguments:</strong></p>
<dl class="docutils">
<dt><em>u</em>, <em>v</em></dt>
<dd>Zonal and meridional wind components respectively.</dd>
</dl>
<p><strong>Optional argument:</strong></p>
<dl class="docutils">
<dt><em>axis</em></dt>
<dd>Index of the latitude dimension. This dimension will be reversed
in the input arrays. Defaults to 0 (the first dimension).</dd>
</dl>
<p><strong>Returns:</strong></p>
<dl class="docutils">
<dt><em>ur</em>, <em>vr</em></dt>
<dd>Zonal and meridional wind components with the latitude dimensions
reversed. These are always copies of the input.</dd>
</dl>
<p><strong>See also:</strong></p>
<p><a class="reference internal" href="#windspharm.tools.order_latdim" title="windspharm.tools.order_latdim"><tt class="xref py py-obj docutils literal"><span class="pre">order_latdim</span></tt></a>.</p>
<p><strong>Examples:</strong></p>
<p>Reverse the dimension corresponding to latitude when it is the first
dimension of the inputs:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">u</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">reverse_latdim</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</pre></div>
</div>
<p>Reverse the dimension corresponding to latitude when it is the third
dimension of the inputs:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">u</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">reverse_latdim</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="windspharm.tools.order_latdim">
<tt class="descclassname">windspharm.tools.</tt><tt class="descname">order_latdim</tt><big>(</big><em>latdim</em>, <em>u</em>, <em>v</em>, <em>axis=0</em><big>)</big><a class="reference internal" href="../_modules/windspharm/tools.html#order_latdim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#windspharm.tools.order_latdim" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure the latitude dimension is north-to-south.</p>
<p>Returns copies of the latitude dimension and wind components
with the latitude dimension going from north to south. If the
latitude dimension is already in this order then the output will
just be copies of the input.</p>
<p><strong>Arguments:</strong></p>
<dl class="docutils">
<dt><em>latdim</em></dt>
<dd>Array of latitude values.</dd>
<dt><em>u</em>, <em>v</em></dt>
<dd>Zonal and meridional wind components respectively.</dd>
</dl>
<p><strong>Keyword argument:</strong></p>
<dl class="docutils">
<dt><em>axis</em></dt>
<dd>Index of the latitude dimension in the zonal and meridional wind
components. Defaults to 0 (the first dimension).</dd>
</dl>
<p><strong>Returns:</strong></p>
<dl class="docutils">
<dt><em>latdimr</em></dt>
<dd>Possibly reversed <em>latdim</em>, always a copy of <em>latdim</em>.</dd>
<dt><em>ur</em>, <em>vr</em></dt>
<dd>Possibly reversed <em>u</em> and <em>v</em> respectively. Always copies of <em>u</em>
and <em>v</em> respectively.</dd>
</dl>
<p><strong>See also:</strong></p>
<p><a class="reference internal" href="#windspharm.tools.reverse_latdim" title="windspharm.tools.reverse_latdim"><tt class="xref py py-obj docutils literal"><span class="pre">reverse_latdim</span></tt></a>.</p>
<p><strong>Examples:</strong></p>
<p>Order the latitude dimension when latitude is the first dimension of
the wind components:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">latdim</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">order_latdim</span><span class="p">(</span><span class="n">latdim</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</pre></div>
</div>
<p>Order the latitude dimension when latitude is the third dimension of
the wind components:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">latdim</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">order_latdim</span><span class="p">(</span><span class="n">latdim</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
    <h3>Table Of Contents</h3>
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="windspharm.standard.html"><tt class="docutils literal"><span class="pre">windspharm.standard</span></tt></a></li>
<li class="toctree-l2"><a class="reference internal" href="windspharm.cdms.html"><tt class="docutils literal"><span class="pre">windspharm.cdms</span></tt></a></li>
<li class="toctree-l2"><a class="reference internal" href="windspharm.iris.html"><tt class="docutils literal"><span class="pre">windspharm.iris</span></tt></a></li>
<li class="toctree-l2 current"><a class="current reference internal" href=""><tt class="docutils literal"><span class="pre">windspharm.tools</span></tt></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../downloads.html">Downloads</a></li>
</ul>


  <h4>Previous topic</h4>
  <p class="topless"><a href="windspharm.iris.html"
                        title="previous chapter"><tt class="docutils literal"><span class="pre">windspharm.iris</span></tt></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../downloads.html"
                        title="next chapter">Downloads</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../downloads.html" title="Downloads"
             >next</a> |</li>
        <li class="right" >
          <a href="windspharm.iris.html" title="windspharm.iris"
             >previous</a> |</li>
        <li><a href="../index.html">windspharm 1.2.1 documentation</a> &raquo;</li>
          <li><a href="index.html" >API reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012-2013, Andrew Dawson.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
  </body>
</html>