
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>windspharm.tools &#8212; windspharm 1.6.0+30.gc48417d documentation</title>
    <link rel="stylesheet" href="../_static/sphinx13_mod.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Changelog" href="../changelog.html" />
    <link rel="prev" title="windspharm.xarray" href="windspharm.xarray.html" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
     
        <style type="text/css">
            table.right { float: right; margin-left: 20px; }
            table.right td { border: 1px solid #ccc; }
        </style>
        <script type="text/javascript">
            // intelligent scrolling of the sidebar content
            $(window).scroll(function() {
                var sb = $('.sphinxsidebarwrapper');
                var win = $(window);
                var sbh = sb.height();
                var offset = $('.sphinxsidebar').position()['top'];
                var wintop = win.scrollTop();
                var winbot = wintop + win.innerHeight();
                var curtop = sb.position()['top'];
                var curbot = curtop + sbh;
                // does sidebar fit in window?
                if (sbh < win.innerHeight()) {
                    // yes: easy case -- always keep at the top
                    sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
                                         $(document).height() - sbh - 200]));
                } else {
                    // no: only scroll if top/bottom edge of sidebar is at
                    // top/bottom edge of window
                    if (curtop > wintop && curbot > winbot) {
                        sb.css('top', $u.max([wintop - offset - 10, 0]));
                    } else if (curtop < wintop && curbot < winbot) {
                        sb.css('top', $u.min([winbot - sbh - offset - 20,
                                             $(document).height() - sbh - 200]));
                    }
                }
            });
        </script>

  </head><body>
<div class="pageheader">
  <div>
    <a href="../index.html">
      <img src="../_static/headerimage.png" alt="SPHINX" />
    </a>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../changelog.html" title="Changelog"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="windspharm.xarray.html" title="windspharm.xarray"
             accesskey="P">previous</a> |</li>
    <li><a href="../index.html">home</a>|&nbsp;</li>
    <li><a href="../search.html">search</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">API reference</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">

    <h2>windspharm v1.6.0+30.gc48417d</h2>
    <h3>Table of Contents</h3>
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../userguide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#full-documentation">Full documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devguide/index.html">Developer Guide</a></li>
</ul>


  <h4>Previous topic</h4>
  <p class="topless"><a href="windspharm.xarray.html"
                        title="previous chapter"><code class="docutils literal notranslate"><span class="pre">windspharm.xarray</span></code></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../changelog.html"
                        title="next chapter">Changelog</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/api/windspharm.tools.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
  
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-windspharm.tools">
<span id="windspharm-tools"></span><h1><a class="reference internal" href="#module-windspharm.tools" title="windspharm.tools"><code class="xref py py-obj docutils literal notranslate"><span class="pre">windspharm.tools</span></code></a><a class="headerlink" href="#module-windspharm.tools" title="Permalink to this headline">¶</a></h1>
<p>Tools for managing data for use with <a class="reference internal" href="windspharm.standard.html#windspharm.standard.VectorWind" title="windspharm.standard.VectorWind"><code class="xref py py-obj docutils literal notranslate"><span class="pre">VectorWind</span></code></a>
(or indeed <code class="xref py py-obj docutils literal notranslate"><span class="pre">spharm.Spharmt</span></code>).</p>
<dl class="function">
<dt id="windspharm.tools.prep_data">
<code class="descclassname">windspharm.tools.</code><code class="descname">prep_data</code><span class="sig-paren">(</span><em>data</em>, <em>dimorder</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/windspharm/tools.html#prep_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#windspharm.tools.prep_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare data for input to <a class="reference internal" href="windspharm.standard.html#windspharm.standard.VectorWind" title="windspharm.standard.VectorWind"><code class="xref py py-obj docutils literal notranslate"><span class="pre">VectorWind</span></code></a> (or to
<code class="xref py py-obj docutils literal notranslate"><span class="pre">spharm.Spharmt</span></code> method calls).</p>
<p>Returns a dictionary of intermediate information that can be passed
to <a class="reference internal" href="#windspharm.tools.recover_data" title="windspharm.tools.recover_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">recover_data</span></code></a> or <a class="reference internal" href="#windspharm.tools.get_recovery" title="windspharm.tools.get_recovery"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_recovery</span></code></a> to recover the original shape
and order of the data.</p>
<p><strong>Arguments:</strong></p>
<dl class="docutils">
<dt><em>data</em></dt>
<dd>Data array. The array must be at least 2D.</dd>
<dt><em>dimorder</em></dt>
<dd>String specifying the order of dimensions in the data array. The
characters ‘x’ and ‘y’ represent longitude and latitude
respectively. Any other characters can be used to represent
other dimensions.</dd>
</dl>
<p><strong>Returns:</strong></p>
<dl class="docutils">
<dt><em>pdata</em></dt>
<dd><em>data</em> reshaped/reordered to (latitude, longitude, other).</dd>
<dt><em>info</em></dt>
<dd>A dictionary of information required to recover <em>data</em>.</dd>
</dl>
<p><strong>See also:</strong></p>
<p><a class="reference internal" href="#windspharm.tools.recover_data" title="windspharm.tools.recover_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">recover_data</span></code></a>, <a class="reference internal" href="#windspharm.tools.get_recovery" title="windspharm.tools.get_recovery"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_recovery</span></code></a>.</p>
<p><strong>Examples:</strong></p>
<p>Prepare an array with dimensions (12, 17, 73, 144) where the
dimensions are (time, level, latitude, longitude):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pdata</span><span class="p">,</span> <span class="n">info</span> <span class="o">=</span> <span class="n">prep_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;tzyx&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Prepare an array with dimensions (144, 16, 73, 21) where the first
dimension is longitude and the third dimension is latitude. The
characters used to represent the other dimensions are arbitrary:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pdata</span><span class="p">,</span> <span class="n">info</span> <span class="o">=</span> <span class="n">prep_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;xayb&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="windspharm.tools.recover_data">
<code class="descclassname">windspharm.tools.</code><code class="descname">recover_data</code><span class="sig-paren">(</span><em>pdata</em>, <em>info</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/windspharm/tools.html#recover_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#windspharm.tools.recover_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Recover the shape and dimension order of an array output from
<a class="reference internal" href="windspharm.standard.html#windspharm.standard.VectorWind" title="windspharm.standard.VectorWind"><code class="xref py py-obj docutils literal notranslate"><span class="pre">VectorWind</span></code></a> methods (or from <code class="xref py py-obj docutils literal notranslate"><span class="pre">spharm.Spharmt</span></code>
methods).</p>
<p>This function performs the opposite of <a class="reference internal" href="#windspharm.tools.prep_data" title="windspharm.tools.prep_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">prep_data</span></code></a>.</p>
<p>For recovering the shape of multiple variables, see <a class="reference internal" href="#windspharm.tools.get_recovery" title="windspharm.tools.get_recovery"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_recovery</span></code></a>.</p>
<p><strong>Arguments:</strong></p>
<dl class="docutils">
<dt><em>pdata</em></dt>
<dd>Data array with either 2 or 3 dimensions. The first two
dimensions are latitude and longitude respectively.</dd>
<dt><em>info</em></dt>
<dd>Information dictionary output from <a class="reference internal" href="#windspharm.tools.prep_data" title="windspharm.tools.prep_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">prep_data</span></code></a>.</dd>
</dl>
<p><strong>Returns:</strong></p>
<dl class="docutils">
<dt><em>data</em></dt>
<dd>The data reshaped/reordered.</dd>
</dl>
<p><strong>See also:</strong></p>
<p><a class="reference internal" href="#windspharm.tools.prep_data" title="windspharm.tools.prep_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">prep_data</span></code></a>, <a class="reference internal" href="#windspharm.tools.get_recovery" title="windspharm.tools.get_recovery"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_recovery</span></code></a>.</p>
<p><strong>Example:</strong></p>
<p>Recover the original input shape and dimension order of an array
processed with <a class="reference internal" href="#windspharm.tools.prep_data" title="windspharm.tools.prep_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">prep_data</span></code></a> or an output of
<a class="reference internal" href="windspharm.standard.html#windspharm.standard.VectorWind" title="windspharm.standard.VectorWind"><code class="xref py py-obj docutils literal notranslate"><span class="pre">VectorWind</span></code></a> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">sparm.Spharmt</span></code> method calls on
such data:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">recover_data</span><span class="p">(</span><span class="n">pdata</span><span class="p">,</span> <span class="n">info</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="windspharm.tools.get_recovery">
<code class="descclassname">windspharm.tools.</code><code class="descname">get_recovery</code><span class="sig-paren">(</span><em>info</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/windspharm/tools.html#get_recovery"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#windspharm.tools.get_recovery" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a function that can be used to recover the shape and
dimension order of multiple arrays output from
<a class="reference internal" href="windspharm.standard.html#windspharm.standard.VectorWind" title="windspharm.standard.VectorWind"><code class="xref py py-obj docutils literal notranslate"><span class="pre">VectorWind</span></code></a> methods (or from <code class="xref py py-obj docutils literal notranslate"><span class="pre">spharm.Spharmt</span></code>
methods) according to a single dictionary of recovery information.</p>
<p><strong>Argument:</strong></p>
<dl class="docutils">
<dt><em>info</em></dt>
<dd>Information dictionary output from <a class="reference internal" href="#windspharm.tools.prep_data" title="windspharm.tools.prep_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">prep_data</span></code></a>.</dd>
</dl>
<p><strong>Returns:</strong></p>
<dl class="docutils">
<dt><em>recover</em></dt>
<dd>A function used to recover arrays.</dd>
</dl>
<p><strong>See also:</strong></p>
<p><a class="reference internal" href="#windspharm.tools.recover_data" title="windspharm.tools.recover_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">recover_data</span></code></a>, <a class="reference internal" href="#windspharm.tools.prep_data" title="windspharm.tools.prep_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">prep_data</span></code></a>.</p>
<p><strong>Example:</strong></p>
<p>Generate a function to recover the original input shape and
dimension order of arrays processed with <a class="reference internal" href="#windspharm.tools.prep_data" title="windspharm.tools.prep_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">prep_data</span></code></a> and outputs of
<a class="reference internal" href="windspharm.standard.html#windspharm.standard.VectorWind" title="windspharm.standard.VectorWind"><code class="xref py py-obj docutils literal notranslate"><span class="pre">VectorWind</span></code></a> method calls on this data:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">u</span><span class="p">,</span> <span class="n">info</span> <span class="o">=</span> <span class="n">prep_data</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="s1">&#39;tzyx&#39;</span><span class="p">)</span>
<span class="n">v</span><span class="p">,</span> <span class="n">info</span> <span class="o">=</span> <span class="n">prep_data</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s1">&#39;tzyx&#39;</span><span class="p">)</span>
<span class="n">w</span> <span class="o">=</span> <span class="n">VectorWind</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
<span class="n">sf</span><span class="p">,</span> <span class="n">vp</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">sfvp</span><span class="p">()</span>
<span class="n">recover</span> <span class="o">=</span> <span class="n">get_recovery</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>
<span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">sf</span><span class="p">,</span> <span class="n">vp</span> <span class="o">=</span> <span class="n">recover</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">sf</span><span class="p">,</span> <span class="n">vp</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="windspharm.tools.reverse_latdim">
<code class="descclassname">windspharm.tools.</code><code class="descname">reverse_latdim</code><span class="sig-paren">(</span><em>u</em>, <em>v</em>, <em>axis=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/windspharm/tools.html#reverse_latdim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#windspharm.tools.reverse_latdim" title="Permalink to this definition">¶</a></dt>
<dd><p>Reverse the order of the latitude dimension of zonal and meridional
wind components.</p>
<p><strong>Arguments:</strong></p>
<dl class="docutils">
<dt><em>u</em>, <em>v</em></dt>
<dd>Zonal and meridional wind components respectively.</dd>
</dl>
<p><strong>Optional argument:</strong></p>
<dl class="docutils">
<dt><em>axis</em></dt>
<dd>Index of the latitude dimension. This dimension will be reversed
in the input arrays. Defaults to 0 (the first dimension).</dd>
</dl>
<p><strong>Returns:</strong></p>
<dl class="docutils">
<dt><em>ur</em>, <em>vr</em></dt>
<dd>Zonal and meridional wind components with the latitude dimensions
reversed. These are always copies of the input.</dd>
</dl>
<p><strong>See also:</strong></p>
<p><a class="reference internal" href="#windspharm.tools.order_latdim" title="windspharm.tools.order_latdim"><code class="xref py py-obj docutils literal notranslate"><span class="pre">order_latdim</span></code></a>.</p>
<p><strong>Examples:</strong></p>
<p>Reverse the dimension corresponding to latitude when it is the first
dimension of the inputs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">u</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">reverse_latdim</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</pre></div>
</div>
<p>Reverse the dimension corresponding to latitude when it is the third
dimension of the inputs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">u</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">reverse_latdim</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="windspharm.tools.order_latdim">
<code class="descclassname">windspharm.tools.</code><code class="descname">order_latdim</code><span class="sig-paren">(</span><em>latdim</em>, <em>u</em>, <em>v</em>, <em>axis=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/windspharm/tools.html#order_latdim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#windspharm.tools.order_latdim" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure the latitude dimension is north-to-south.</p>
<p>Returns copies of the latitude dimension and wind components
with the latitude dimension going from north to south. If the
latitude dimension is already in this order then the output will
just be copies of the input.</p>
<p><strong>Arguments:</strong></p>
<dl class="docutils">
<dt><em>latdim</em></dt>
<dd>Array of latitude values.</dd>
<dt><em>u</em>, <em>v</em></dt>
<dd>Zonal and meridional wind components respectively.</dd>
</dl>
<p><strong>Keyword argument:</strong></p>
<dl class="docutils">
<dt><em>axis</em></dt>
<dd>Index of the latitude dimension in the zonal and meridional wind
components. Defaults to 0 (the first dimension).</dd>
</dl>
<p><strong>Returns:</strong></p>
<dl class="docutils">
<dt><em>latdimr</em></dt>
<dd>Possibly reversed <em>latdim</em>, always a copy of <em>latdim</em>.</dd>
<dt><em>ur</em>, <em>vr</em></dt>
<dd>Possibly reversed <em>u</em> and <em>v</em> respectively. Always copies of <em>u</em>
and <em>v</em> respectively.</dd>
</dl>
<p><strong>See also:</strong></p>
<p><a class="reference internal" href="#windspharm.tools.reverse_latdim" title="windspharm.tools.reverse_latdim"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reverse_latdim</span></code></a>.</p>
<p><strong>Examples:</strong></p>
<p>Order the latitude dimension when latitude is the first dimension of
the wind components:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">latdim</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">order_latdim</span><span class="p">(</span><span class="n">latdim</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</pre></div>
</div>
<p>Order the latitude dimension when latitude is the third dimension of
the wind components:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">latdim</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">order_latdim</span><span class="p">(</span><span class="n">latdim</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
  <script type=text/javascript src="/windspharm/version_switch.js" async></script>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../changelog.html" title="Changelog"
             >next</a> |</li>
        <li class="right" >
          <a href="windspharm.xarray.html" title="windspharm.xarray"
             >previous</a> |</li>
    <li><a href="../index.html">home</a>|&nbsp;</li>
    <li><a href="../search.html">search</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="index.html" >API reference</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2012-2018, Andrew Dawson.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
    </div>
  </body>
</html>